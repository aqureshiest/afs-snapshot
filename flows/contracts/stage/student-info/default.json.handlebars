{
    "key": "student-info",
    "type": "form",
    "label": "Student Info",
    "status": "notStarted",
    "showProgress": true,
    "steps": {{{json (contract 'steps')}}},
    "validation": {
        "type": "object",
        "properties": {
            "education": {
                "type": "object",
                "properties": {
                    "school": {
                        "type": "string",
                        "pattern": "^[^@!¡¿?#$%^&*()_+]+$",
                        "minLength": 1,
                        "errorMessage": {
                            "minLength": "School must be longer than 1 character",
                            "pattern": "Invalid school name",
                            "type": "Invalid school name"
                        }
                    },
                    "degree": {
                        "type": "string",
                        "pattern": "^[^@!¡¿?#$%^&*()_+]+$",
                        "minLength": 1,
                        "errorMessage": {
                            "minLength": "Degree must be longer than 1 character",
                            "pattern": "Invalid degree",
                            "type": "Invalid degree"
                        }
                    },
                    "enrollment": {
                        "type": "string",
                        "pattern": "^[^@!¡¿?#$%^&*()_+]+$",
                        "minLength": 1,
                        "errorMessage": {
                            "minLength": "Enrollment must be longer than 1 character",
                            "pattern": "Invalid degree",
                            "type": "Invalid degree"
                        }
                    }
                }
            },
            "basic": {
                "type": "object",
                "properties": {
                    "name": {{{json (schema 'questions/name')}}},
                    "dateOfBirth": {{{json (schema 'questions/dateOfBirth')}}},
                    "phone": {
                        "type": "object",
                        "properties": {
                            "areaCode": {
                                "type": "string",
                                "minLength": 3,
                                "maxLength": 3,
                                "pattern": "^[0-9]+$",
                                "errorMessage": {
                                    "minLength": "Area code is required",
                                    "maxLength": "Invalid area code",
                                    "pattern": "Invalid phone number",
                                    "type": "Phone is required"
                                }
                            },
                            "exchangeCode": {
                                "type": "string",
                                "minLength": 3,
                                "maxLength": 3,
                                "pattern": "^[0-9]+$",
                                "errorMessage": {
                                    "minLength": "Exchange code is required",
                                    "maxLength": "Invalid exchange code",
                                    "pattern": "Invalid phone number",
                                    "type": "Phone is required"
                                }
                            },
                            "lineNumber": {
                                "type": "string",
                                "minLength": 4,
                                "maxLength": 4,
                                "pattern": "^[0-9]+$",
                                "errorMessage": {
                                    "minLength": "Line number is required",
                                    "maxLength": "Invalid line number",
                                    "pattern": "Invalid phone number",
                                    "type": "Phone is required"
                                }
                            }
                        },
                        "required": [
                            "areaCode",
                            "exchangeCode",
                            "lineNumber"
                        ]
                    },
                    "email": {{{json (schema 'questions/email')}}},
                    "disclosure": {{{json (schema 'questions/disclosure')}}}
                }
            },
            "address": {
                "type": "object",
                "properties": {
                    "address": {
                        "type": "object",
                        "properties": {
                            "street": {
                                "minLength": 1,
                                "type": "string",
                                "pattern": "^[\u0000-]*$",
                                "errorMessage": {
                                    "minLength": "Street is required",
                                    "pattern": "Invalid street"
                                }
                            },
                            "apt": {
                                "nullable": true,
                                "type": "string",
                                "pattern": "^[\u0000-]*$",
                                "errorMessage": {
                                    "pattern": "Invalid apartment"
                                }
                            },
                            "city": {
                                "minLength": 1,
                                "type": "string",
                                "pattern": "^[\u0000-]*$",
                                "errorMessage": {
                                    "minLength": "City is required",
                                    "pattern": "Invalid city"
                                }
                            },
                            "state": {
                                "minLength": 2,
                                "maxLength": 2,
                                "type": "string",
                                "pattern": "^[\u0000-]*$",
                                "errorMessage": {
                                    "minLength": "State is required",
                                    "pattern": "Invalid state"
                                }
                            },
                            "zip": {
                                "minLength": 5,
                                "maxLength": 10,
                                "pattern": "(([0-9]{5}-[0-9]{4})|[0-9]{5})",
                                "type": "string",
                                "errorMessage": {
                                    "minLength": "Zipcode is required",
                                    "pattern": "Invalid zipcode"
                                }
                            }
                        },
                        "required": [
                            "street",
                            "city",
                            "state",
                            "zip"
                        ]
                    }
                }
            },
            "loan-details": {
                "type": "object",
                "properties": {
                    "loan-period": {
                        "type": "object",
                        "properties": {
                            "month": {
                                "type": "string",
                                "minLength": 2,
                                "maxLength": 2,
                                "pattern": "^[0-9]+$",
                                "errorMessage": {
                                    "minLength": "Month is required",
                                    "maxLength": "Invalid month",
                                    "pattern": "Invalid date",
                                    "type": "Date is required"
                                }
                            },
                            "day": {
                                "type": "string"
                            },
                            "year": {
                                "type": "string",
                                "minLength": 4,
                                "maxLength": 4,
                                "pattern": "^[0-9]+$",
                                "errorMessage": {
                                    "minLength": "Year is required",
                                    "maxLength": "Invalid year",
                                    "pattern": "Invalid date",
                                    "type": "Date is required"
                                }
                            }
                        },
                        "required": [
                            "month",
                            "year"
                        ]
                    },
                    "money": {
                        "type": "string",
                        "minLength": 1,
                        "errorMessage": {
                            "minLength": "Amount is required",
                            "type": "Enter a valid number"
                        }
                    }
                }
            }
        },
        "required": [],
        "additionalProperties": true
    }
}

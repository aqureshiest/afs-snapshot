{
  {{#with (contract 'query') as |query|}}
    "query": {{{ json query }}},
  {{/with}}
  "criteria": {{#list}}
    {{#with (contract 'auth') as |auth|}}
      { "email": {{{ json (coalesce auth.artifacts.email request.body.values.email) }}} }
    {{/with}}
  {{/list}}
  {{#with request.query}}
     {{#if limit}}
       ,"limit": {{{json limit}}}
     {{/if}}
     {{#if page}}
      ,"page": {{{json page}}}
     {{/if}}
  {{/with}}
}

{{#applicantById}}
{
  "type": "input",
  "definition": {
      "key": {{{maybe (json (contract 'key')) "school"}}},
      "type": "inputSchool",
      {{! TODO: request school name based on opeid from accredited-school-service}}
      {{#if applicant.details.education.0.opeid}}
      "value": {{{json applicant.details.education.0.opeid}}},
      {{else}}
      "value": "",
      {{/if}}
      "conditional": {{{maybe (json (contract 'conditional')) []}}},
      {{#if (contract "label")}}
        "label": {
          {{#if (contract "subLabel")}}
          "subCopy": {{{json (contract 'subCopy')}}},
          {{/if}}
          "copy": {{{json (contract 'label')}}}
        },
      {{else}}
      {{! TODO: the placeholder should depend on the degree type: Graduate school or Undergraduate school}}
      "placeholder": "School to be attended",
      "label": {
          "copy": "School to be attended {{userState.degree-type}}"
      },
      {{/if}}
      "error": "{{{ ajv 'errors' 'questions/primary/school' applicant.details.education.0.opeid }}}"
  }
}
{{/applicantById}}

{{!
  Given an 'application' contract with a single root application, use the first applicant
	as the default primary
}}
{{#with (contract 'application') as |application|}}
  {{#obj}}
    {{{ json application }}}
    {{#each application.applicants as |applicant|}}
      {{#if (and applicant.cosigner.id (eq ../../request.params.id applicant.id))}}
        { "applicant": { {{#spread}}  {{{ json applicant }}} {{/spread}} "role": "primary" }  }
      {{else if (and applicant.primary.id (eq ../../request.params.id applicant.id))}}
        { "applicant": { {{#spread}}  {{{ json applicant }}} {{/spread}} "role": "cosigner" }  }
      {{/if}}
    {{/each}}
  {{/obj}}
{{else}}
  null
{{/with}} 

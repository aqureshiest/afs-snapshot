{{!
  Given an 'application' contract with a single root application, use the first applicant
	as the default primary
}}
{{#with (contract 'application') as |application|}}
  {{#obj}}
    {{#unless application.primary}}
      { "primary": {{{ json application.applicants.[0] }}} }
    {{/unless}}
    {{#unless application.cosigner}}
      { "cosigner": {{{ json application.applicants.[1] }}} }
    {{/unless}}
    {{#unless application.applicant}}
      {{#if (eq ../request.params.id application.applicants.[0].id)}}
        { "applicant": {{{ json application.applicants.[0] }}}, "isPrimary": true, "isCosigner":false }
      {{else if (eq ../request.params.id application.applicants.[1].id)}}
        { "applicant": {{{ json application.applicants.[1] }}}, "isPrimary": false, "isCosigner":true }
      {{else if (eq ../request.params.id application.id)}}
        { "applicant": {{{ json application.applicants.[0] }}}, "isPrimary": false, "isCosigner":false }
      {{/if}}
    {{/unless}}
    {{{ json application }}}
  {{/obj}}
{{else}}
  null
{{/with}}

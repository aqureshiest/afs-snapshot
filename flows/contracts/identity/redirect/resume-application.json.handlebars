{{#noop}}{{contract 'actions'}}{{/noop}}
{{#if request.params.id }}
  {{#if (and (hasValues applicationState) applicationState.manifest )}}
    {{#with applicationState }}
      {{#if step}}
        "{{manifest}}?step={{step}}"
      {{else}}
        "{{manifest}}"
      {{/if}}
    {{/with}}
  {{else}}
    {{#if (eq application.product "student-refi")}}
      "{{application.brand}}/student-refi/{{request.params.id}}"
    {{else}}
      "{{application.brand}}/{{mapProductForRedirect application.product}}{{#if (eq application.cosigner.id (lookup (getApplicantByUserID auth.artifacts.userId application) "id"))}}/cosigner/{{lookup (getApplicantByUserID auth.artifacts.userId application) "id"}}{{/if}}"
    {{/if}}
  {{/if}}
{{else}}
  null
{{/if}}
